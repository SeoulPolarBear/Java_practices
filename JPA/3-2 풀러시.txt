플러시
영속성 컨텍스트의 변경내용을 
데이터베이스에 반영

즉, 영속성 컨텍스트에 있는 정보와 
DB에 있는 정보를 맞춰주기 위해서
Query를 날려주는 역할을 한다고 볼 수 있습니다.

-------------------
역할

- 변경 감지
- 수정된 엔티티 쓰기 지연 SQL 저장소에 등록
- 쓰기 지연 SQL 저장소의 쿼리를 데이터베이스에 전송 
(등록, 수정, 삭제 쿼리)

플러시 하는 방법
- em.flush() - 직접 호출

- 트랜잭션 커밋 - 플러시 자동 호출
------
- JPQL 쿼리 실행 - 플러시 자동 호출
이유 : JPQL은 결국 SQL문을 DB에 날리는 것이다. 
이 떄 컬랙션 적인 JPA와 SQL형인 JPQL 사이에 문제가 발생할 수 있기 때문에
flush를 통해서 동기화를 시켜준다.



즉, 플러시는
-영속성 컨텍스트를 비우지 않습니다.
-영속성 컨텍스트의 변경 내용을 데이터베이스에 동기화 하기 위해서 사용합니다.
-트랜잭션이라는 작업 단위가 중요 -> 커밋 직전에만 동기화 해주면 됩니다.

